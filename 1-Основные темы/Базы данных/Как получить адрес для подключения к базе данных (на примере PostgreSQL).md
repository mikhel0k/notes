#базы_данных #подключение #postgresql

```
psql -U postgres
```
При помощи этой команды подключаемся через консоль к postgresql серверу.

```
CREATE DATABASE {название базы данных};

CREATE USER {имя пользователя под которым будете подключаться к базе данных} WITH PASSWORD '{пароль с которым будете подключаться к базе данных}';

GRANT ALL PRIVILEGES ON DATABASE {название базы данных} TO {имя пользователя под которым будете подключаться к базе данных};
```
Первой командой мы создаем базу данных. Второй создаем пользователя, и задаем пароль для этого пользователя. Третьей командой даем созданному пользователю права на полное взаимодействие с нашей созданной базой данных.

```
\c {название базы данных};

GRANT ALL ON SCHEMA public TO {имя пользователя под которым будете подключаться к базе данных};

GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO {имя пользователя};
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO {имя пользователя};

ALTER DEFAULT PRIVILEGES IN SCHEMA public 
GRANT ALL ON TABLES TO {имя пользователя};

ALTER DEFAULT PRIVILEGES IN SCHEMA public 
GRANT ALL ON SEQUENCES TO {имя пользователя};
```
 Первой командой подключаемся к конкретной базе данных, второй даем все права на схему public, потом следующие две это даем права на все существующие таблицы и sequenсу. И следующие две команды дают все права на те таблицы и sequency которые будут в дальнейшем созданы.

```
DB_HOST=localhost  
DB_PORT=5432  
DB_NAME={название базы данных}  
DB_USER={имя пользователя под которым будете подключаться к базе данных}  
DB_PASSWORD={пароль с которым будете подключаться к базе данных}
```
В .env файл надо добавить конфигурацию всех настроек для подключения к базе данных.

```
DATABASE_URL=postgresql://{имя пользователя}:{пароль}@localhost:5432/{название базы данных}  
SYNC_DATABASE_URL=postgresql://{имя пользователя}:{пароль}@localhost:5432/{название базы данных}
```
А также добавить следующие строки в которых будут ссылки на подключение к базе данных под пользователем.
