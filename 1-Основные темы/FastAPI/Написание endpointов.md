Сначала в коде объявляется роутер или приложение [[Работа с APIRouter и FastAPI объектами]]

Потом при помощи декораторов @router.get/post/delete/put/putch объявляется какой-то endpoint, в качестве параметра туда передается строка с url и желательными являются параметры response_model куда передается pydantic схема ответа и status_code которая изменяет возвращаемый статус код. Например
```
@router.post("/", response_model=AuthorResponse, status_code=status.HTTP_201_CREATED)
```

Прописывается функция к которой применяется этот декоратор, чаще всего в асинхронном формате, также функция принимает какие-то параметры, если это pydantic схема, то ждать ее будет в теле запроса, если просто переменные, то они либо явно прописываются в url строке, либо если нет, то передаются как обычные параметры.
```
async def author_create(  
        author: AuthorCreate,  
        session: AsyncSession = Depends(get_db)  
):
```

Ну и дальше тело функции которое выполняет какой-то функционал, например CRUD операции [[Какие есть CRUD операции]] и должно вернуть объявленную pydantic схему.